<!DOCTYPE html>
<!-- FOR TESTING ONLY. -->
<html>

<head>
  <title>ReDRAW Mocha Unit Test Suite</title>

  <link rel="stylesheet" href="../docs/css/main.css">
  <link href="lib/mocha.css" rel="stylesheet" />

  <!-- Load JS -->
  <script src="../docs/lib/utils_package.js"></script>
  <script src="../docs/lib/tensor.js"></script>
  <script src="../docs/lib/p5/p5.js"></script>
  <script src="../docs/lib/p5/addons/p5.dom.js"></script>
  <script src="../docs/lib/p5/addons/p5.sound.js"></script>
</head>

<!-- We must keep everything around for mp.js to work. -->
<body>


  <div style="display: none">
    <div class="center" id="canvas-holder">
      <!-- Canvas will be injected here by p5js -->
    </div>

    <div class="center">
      <!-- Input controls (Drawing) -->
      <div id="draw-controls">
        <div id="size-slider" style="display: inline">
          <!-- Inject size slider here through p5js -->
        </div>
      </div>

      <!-- MP controls -->
      <div id="mp-controls">
        <button type="button" onclick="seekBackward()">
          <img src="../docs/img/back.png" width="50" height="50">
        </button>
        <button type="button" onclick="togglePlay()">
          <!-- Pause / Play - should default as Play and switch to Pause when pressed. -->
          <img src="../docs/img/pause.png" width="50" height="50">
        </button>
        <button type="button" onclick="seekForward()">
          <img src="../docs/img/forward.png" width="50" height="50">
        </button>
        <div class="mp-control inline" id="state-slider">
          <!-- Inject state slider here through p5js -->
        </div>
        <div class="image-upload mp-control inline">
        <label for="file-input">
            <img src="../docs/img/import.png" width="50" height="50">
        </label>
        <input id="file-input" type="file" accept="image/gif, image/jpeg, image/png" onchange="uploadImage(this);"/>
        </div>
        <div class="image-download inline">
        <button type="button" onclick="exportData()">
          <img src="../docs/img/export.png" width="50" height="50">
          <a id="dl" download="Canvas.png" href="#"><!-- Download Canvas --></a>
        </button>
        </div>
        <div class="inline">
          Generate<br>
          <label class="switch">
            <input type="checkbox" id="generate-toggle-box" onclick="updateGenerateToggle()">
            <span class="slider round"></span>
          </label>
        </div>
      </div>
    </div>
  </div>

  <div class="center">
    
    <br><br><h1>Testing suite.</h1>

    <div id="mocha"></div>



  </div>
  <script src="../docs/js/model_decomposition.js"></script>
  <script src="../docs/js/predict_vector.js"></script>
  <script src="../docs/js/mp.js"></script>
  <script src="../docs/js/uploadImage.js"></script>

  <script type="text/javascript" src="lib/mocha.js"></script>
  <!-- Set up mocha -->
  <script type="text/javascript">
    mocha.setup('bdd')
  </script>
  
  <script type="text/javascript" src="lib/chai_package.js"></script>
  
  <!-- Here we load the testing scripts -->
  <script type="text/javascript" src="js/mp.test.js"></script>

  <script type="text/javascript" src="js/uploadImage.test.js"></script>

  <script type="text/javascript">
    mocha.checkLeaks();
    mocha.globals(['MPState']);
    mocha.run();
  </script>

</body>

</html>
